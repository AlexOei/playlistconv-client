{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alexoei/playlist-converter-source/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/alexoei/playlist-converter-source/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/alexoei/playlist-converter-source/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/alexoei/playlist-converter-source/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/alexoei/playlist-converter-source/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/alexoei/playlist-converter-source/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{Button}from'react-bootstrap/';import'bootstrap/dist/css/bootstrap.min.css';import apiID from'./config.json';var AppleLogin=/*#__PURE__*/function(_Component){_inherits(AppleLogin,_Component);var _super=_createSuper(AppleLogin);function AppleLogin(){var _this;_classCallCheck(this,AppleLogin);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={login:null};_this.handleClickApple=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var music;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(apiID.appleAuth);music=window.MusicKit.configure({developerToken:apiID.appleAuth,app:{name:'My Cool Web App'},declarativeMarkup:true});music.authorize().then(function(musicUserToken){_this.setState({login:\"Logged In!\"});var token=musicUserToken;_this.props.addToken(token);});case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleClickSpotify=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var response,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch('http://localhost:4000/authorize',{method:'GET'});case 2:response=_context2.sent;_context2.next=5;return response.text();case 5:data=_context2.sent;window.location=data;case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();return _this;}_createClass(AppleLogin,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"container-login\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Button,{variant:\"dark\",onClick:this.handleClickSpotify,className:\"spotify\"},\" Login to Spotify\"),/*#__PURE__*/React.createElement(Button,{variant:\"dark\",className:\"applemusic\",onClick:this.handleClickApple},\" Login to Apple Music\"),/*#__PURE__*/React.createElement(\"p\",null,this.state.login)));}}]);return AppleLogin;}(Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return{addToken:function addToken(token){dispatch({type:'ADD_APPLETOKEN',payload:token});}};};export default connect(null,mapDispatchToProps)(AppleLogin);","map":{"version":3,"sources":["/Users/alexoei/playlist-converter-source/client/src/Components/login.js"],"names":["React","Component","connect","Button","apiID","AppleLogin","state","login","handleClickApple","e","console","log","appleAuth","music","window","MusicKit","configure","developerToken","app","name","declarativeMarkup","authorize","then","musicUserToken","setState","token","props","addToken","handleClickSpotify","fetch","method","response","text","data","location","mapDispatchToProps","dispatch","type","payload"],"mappings":"i9BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,MAAT,KAAuB,kBAAvB,CACA,MAAO,sCAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,eAAlB,C,GAEMC,CAAAA,U,2UAEFC,K,CAAQ,CACJC,KAAK,CAAC,IADF,C,OAIRC,gB,0FAAmB,iBAAOC,CAAP,4HACfC,OAAO,CAACC,GAAR,CAAYP,KAAK,CAACQ,SAAlB,EACIC,KAFW,CAEHC,MAAM,CAACC,QAAP,CAAgBC,SAAhB,CAA0B,CAClCC,cAAc,CAAEb,KAAK,CAACQ,SADY,CAElCM,GAAG,CAAE,CACDC,IAAI,CAAE,iBADL,CAF6B,CAKlCC,iBAAiB,CAAE,IALe,CAA1B,CAFG,CAUfP,KAAK,CAACQ,SAAN,GAAkBC,IAAlB,CAAuB,SAAAC,cAAc,CAAE,CACnC,MAAKC,QAAL,CAAc,CACVjB,KAAK,CAAC,YADI,CAAd,EAGA,GAAIkB,CAAAA,KAAK,CAAGF,cAAZ,CACA,MAAKG,KAAL,CAAWC,QAAX,CAAoBF,KAApB,EAEC,CAPL,EAVe,sD,qEAsBnBG,kB,2FAAqB,kBAAOnB,CAAP,+JACMoB,CAAAA,KAAK,CAAC,iCAAD,CAAmC,CAC3DC,MAAM,CAAC,KADoD,CAAnC,CADX,QACXC,QADW,uCAIEA,CAAAA,QAAQ,CAACC,IAAT,EAJF,QAIXC,IAJW,gBAKjBnB,MAAM,CAACoB,QAAP,CAAkBD,IAAlB,CALiB,wD,6IASb,CACJ,mBAEA,2BAAK,SAAS,CAAC,iBAAf,eACI,2BAAK,SAAS,CAAC,aAAf,eACA,8BADA,cAEA,oBAAC,MAAD,EAAQ,OAAO,CAAC,MAAhB,CAAuB,OAAO,CAAE,KAAKL,kBAArC,CAAyD,SAAS,CAAE,SAApE,sBAFA,cAGA,oBAAC,MAAD,EAAQ,OAAO,CAAC,MAAhB,CAAuB,SAAS,CAAC,YAAjC,CAA8C,OAAO,CAAE,KAAKpB,gBAA5D,0BAHA,cAIA,6BAAI,KAAKF,KAAL,CAAWC,KAAf,CAJA,CADJ,CAFA,CAaH,C,wBAnDoBN,S,EAwDzB,GAAMkC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,CAAc,CACrC,MAAM,CACFT,QAAQ,CAAE,kBAACF,KAAD,CAAW,CAACW,QAAQ,CAAE,CAACC,IAAI,CAAE,gBAAP,CAAyBC,OAAO,CAAEb,KAAlC,CAAF,CAAR,CAAoD,CADxE,CAAN,CAIH,CALD,CAQA,cAAevB,CAAAA,OAAO,CAAC,IAAD,CAAOiC,kBAAP,CAAP,CAAkC9B,UAAlC,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Button } from 'react-bootstrap/';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport apiID from './config.json'\n\nclass AppleLogin extends Component {\n   \n    state = {\n        login:null\n    }\n\n    handleClickApple = async (e) => {\n        console.log(apiID.appleAuth)\n        let music = window.MusicKit.configure({\n            developerToken: apiID.appleAuth,\n            app: {\n                name: 'My Cool Web App'\n            },\n            declarativeMarkup: true\n            });\n\n        music.authorize().then(musicUserToken=>{\n            this.setState({\n                login:\"Logged In!\"\n            })\n            let token = musicUserToken;\n            this.props.addToken(token);\n    \n            })\n        \n\n    }\n\n    handleClickSpotify = async (e) => {\n        const response = await fetch('http://localhost:4000/authorize',{\n            method:'GET',\n        });\n        const data = await response.text()\n        window.location = data;\n\n    }\n    \n    render(){\n        return(\n            \n        <div className=\"container-login\">\n            <div className=\"text-center\">\n            <br />\n            <Button variant=\"dark\" onClick={this.handleClickSpotify} className =\"spotify\" > Login to Spotify</Button>\n            <Button variant=\"dark\" className=\"applemusic\" onClick={this.handleClickApple} > Login to Apple Music</Button>\n            <p>{this.state.login}</p>\n            </div>\n        \n        </div>\n\n        )\n    }\n}\n\n\n\nconst mapDispatchToProps = (dispatch) => {\n    return{\n        addToken: (token) => {dispatch ({type: 'ADD_APPLETOKEN', payload: token})},\n       \n    }\n}\n\n\nexport default connect(null, mapDispatchToProps)(AppleLogin);"]},"metadata":{},"sourceType":"module"}