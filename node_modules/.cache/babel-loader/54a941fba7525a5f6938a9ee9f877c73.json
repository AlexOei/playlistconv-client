{"ast":null,"code":"var _jsxFileName = \"/Users/alexoei/playlist/spotify_to_apple/myapp/src/Components/applelogin.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nclass AppleLogin extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleClick = async e => {\n      let music = window.MusicKit.configure({\n        developerToken: 'eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjlSR0o1OUxIQVQifQ.eyJpYXQiOjE1OTcxODg5NTksImV4cCI6MTYxMjc0MDk1OSwiaXNzIjoiQkJEMzU1UDY3MyJ9.US0Y9NvwZqjy5IS0Ugcqzl0RJc9u8i4yEsrVjBt5f8bteLd0hLGLkuR4zpl-9AsUweif13kM3Ai58hicZiXhgA',\n        app: {\n          name: 'My Cool Web App'\n        },\n        declarativeMarkup: true\n      });\n      music.authorize().then(musicUserToken => {\n        console.log(musicUserToken);\n        let token = musicUserToken;\n        this.props.addToken(token);\n        let id = Math.floor(Math.random() * 100000);\n        this.props.addID(id);\n        let idA2S = Math.floor(Math.random() * 100000);\n        this.props.addIDA2S(idA2S);\n        /*fetch('http://localhost:8888/apple',{\n            method: 'POST',\n            headers: {\n                'Content-type': 'application/json'\n            },\n            body: JSON.stringify({\n                token: musicUserToken})\n        });*/\n      });\n    };\n  }\n\n  render() {\n    console.log(this.props);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 12\n      }\n    }, \" Login to Apple\"));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addToken: token => {\n      dispatch({\n        type: 'ADD_APPLETOKEN',\n        payload: token\n      });\n    },\n    addID: id => {\n      dispatch({\n        type: 'ADD_ID',\n        payload: id\n      });\n    },\n    addIDA2S: idA2S => {\n      dispatch({\n        type: 'ADD_IDA2S',\n        payload: idA2S\n      });\n    }\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(AppleLogin);","map":{"version":3,"sources":["/Users/alexoei/playlist/spotify_to_apple/myapp/src/Components/applelogin.js"],"names":["React","Component","connect","AppleLogin","handleClick","e","music","window","MusicKit","configure","developerToken","app","name","declarativeMarkup","authorize","then","musicUserToken","console","log","token","props","addToken","id","Math","floor","random","addID","idA2S","addIDA2S","render","mapDispatchToProps","dispatch","type","payload"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;;AAGA,MAAMC,UAAN,SAAyBF,SAAzB,CAAmC;AAAA;AAAA;;AAAA,SAE/BG,WAF+B,GAEjB,MAAOC,CAAP,IAAa;AACvB,UAAIC,KAAK,GAAGC,MAAM,CAACC,QAAP,CAAgBC,SAAhB,CAA0B;AAClCC,QAAAA,cAAc,EAAC,gOADmB;AAElCC,QAAAA,GAAG,EAAE;AACDC,UAAAA,IAAI,EAAE;AADL,SAF6B;AAKlCC,QAAAA,iBAAiB,EAAE;AALe,OAA1B,CAAZ;AAQAP,MAAAA,KAAK,CAACQ,SAAN,GAAkBC,IAAlB,CAAuBC,cAAc,IAAE;AACnCC,QAAAA,OAAO,CAACC,GAAR,CAAYF,cAAZ;AACA,YAAIG,KAAK,GAAGH,cAAZ;AACA,aAAKI,KAAL,CAAWC,QAAX,CAAoBF,KAApB;AACA,YAAIG,EAAE,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAc,MAAzB,CAAT;AACA,aAAKL,KAAL,CAAWM,KAAX,CAAiBJ,EAAjB;AACA,YAAIK,KAAK,GAAGJ,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAc,MAAzB,CAAZ;AACA,aAAKL,KAAL,CAAWQ,QAAX,CAAoBD,KAApB;AAEA;;;;;;;;AASC,OAlBL;AAuBH,KAlC8B;AAAA;;AAoC/BE,EAAAA,MAAM,GAAE;AACJZ,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKE,KAAjB;AACA,wBAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACG;AAAQ,MAAA,OAAO,EAAE,KAAKhB,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADH,CAFA;AAQH;;AA9C8B;;AAmDnC,MAAM0B,kBAAkB,GAAIC,QAAD,IAAc;AACrC,SAAM;AACFV,IAAAA,QAAQ,EAAGF,KAAD,IAAW;AAACY,MAAAA,QAAQ,CAAE;AAACC,QAAAA,IAAI,EAAE,gBAAP;AAAyBC,QAAAA,OAAO,EAAEd;AAAlC,OAAF,CAAR;AAAoD,KADxE;AAEFO,IAAAA,KAAK,EAAGJ,EAAD,IAAQ;AAACS,MAAAA,QAAQ,CAAE;AAACC,QAAAA,IAAI,EAAE,QAAP;AAAiBC,QAAAA,OAAO,EAACX;AAAzB,OAAF,CAAR;AAAwC,KAFtD;AAGFM,IAAAA,QAAQ,EAAGD,KAAD,IAAW;AAACI,MAAAA,QAAQ,CAAE;AAACC,QAAAA,IAAI,EAAE,WAAP;AAAoBC,QAAAA,OAAO,EAACN;AAA5B,OAAF,CAAR;AAA+C;AAHnE,GAAN;AAKH,CAND;;AASA,eAAezB,OAAO,CAAC,IAAD,EAAO4B,kBAAP,CAAP,CAAkC3B,UAAlC,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux'\n\n\nclass AppleLogin extends Component {\n   \n    handleClick = async (e) => {\n        let music = window.MusicKit.configure({\n            developerToken:'eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjlSR0o1OUxIQVQifQ.eyJpYXQiOjE1OTcxODg5NTksImV4cCI6MTYxMjc0MDk1OSwiaXNzIjoiQkJEMzU1UDY3MyJ9.US0Y9NvwZqjy5IS0Ugcqzl0RJc9u8i4yEsrVjBt5f8bteLd0hLGLkuR4zpl-9AsUweif13kM3Ai58hicZiXhgA',\n            app: {\n                name: 'My Cool Web App'\n            },\n            declarativeMarkup: true\n            });\n\n        music.authorize().then(musicUserToken=>{\n            console.log(musicUserToken);\n            let token = musicUserToken;\n            this.props.addToken(token);\n            let id = Math.floor(Math.random()*100000);\n            this.props.addID(id)\n            let idA2S = Math.floor(Math.random()*100000);\n            this.props.addIDA2S(idA2S)\n            \n            /*fetch('http://localhost:8888/apple',{\n                method: 'POST',\n                headers: {\n                    'Content-type': 'application/json'\n                },\n                body: JSON.stringify({\n                    token: musicUserToken})\n            });*/\n    \n            })\n        \n          \n        \n\n    }\n    \n    render(){\n        console.log(this.props)\n        return(\n            \n        <div>\n           <button onClick={this.handleClick}> Login to Apple</button>\n\n        </div>\n\n        )\n    }\n}\n\n\n\nconst mapDispatchToProps = (dispatch) => {\n    return{\n        addToken: (token) => {dispatch ({type: 'ADD_APPLETOKEN', payload: token})},\n        addID: (id) => {dispatch ({type: 'ADD_ID', payload:id})},\n        addIDA2S: (idA2S) => {dispatch ({type: 'ADD_IDA2S', payload:idA2S })}\n    }\n}\n\n\nexport default connect(null, mapDispatchToProps)(AppleLogin);"]},"metadata":{},"sourceType":"module"}