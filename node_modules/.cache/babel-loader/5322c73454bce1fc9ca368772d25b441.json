{"ast":null,"code":"var _jsxFileName = \"/Users/alexoei/playlist/spotify_to_apple/myapp/src/Components/applelogin.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport store from '../index.js';\n\nclass AppleLogin extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      appleToken: ''\n    };\n\n    this.handleClick = async e => {\n      let music = window.MusicKit.configure({\n        developerToken: 'eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjlSR0o1OUxIQVQifQ.eyJpYXQiOjE1OTcxODg5NTksImV4cCI6MTYxMjc0MDk1OSwiaXNzIjoiQkJEMzU1UDY3MyJ9.US0Y9NvwZqjy5IS0Ugcqzl0RJc9u8i4yEsrVjBt5f8bteLd0hLGLkuR4zpl-9AsUweif13kM3Ai58hicZiXhgA',\n        app: {\n          name: 'My Cool Web App'\n        },\n        declarativeMarkup: true\n      });\n      music.authorize().then(musicUserToken => {\n        console.log(musicUserToken);\n        let token = musicUserToken;\n        fetch('http://localhost:8888/apple', {\n          method: 'POST',\n          headers: {\n            'Content-type': 'application/json'\n          },\n          body: JSON.stringify({\n            token: musicUserToken\n          })\n        });\n        this.setState({\n          appleToken: token\n        });\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 12\n      }\n    }, \" Login to Apple\"));\n  }\n\n}\n\nconst appleToken = {\n  type: 'ADD_APPLETOKEN',\n  appleToken: this.state.appleToken\n};\nstore.dispatch(appleToken);\nstore.subscribe(() => console.log('done'));\nexport default connect()(AppleLogin);","map":{"version":3,"sources":["/Users/alexoei/playlist/spotify_to_apple/myapp/src/Components/applelogin.js"],"names":["React","Component","connect","store","AppleLogin","state","appleToken","handleClick","e","music","window","MusicKit","configure","developerToken","app","name","declarativeMarkup","authorize","then","musicUserToken","console","log","token","fetch","method","headers","body","JSON","stringify","setState","render","type","dispatch","subscribe"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,aAAlB;;AAEA,MAAMC,UAAN,SAAyBH,SAAzB,CAAmC;AAAA;AAAA;AAAA,SAC/BI,KAD+B,GACvB;AACJC,MAAAA,UAAU,EAAC;AADP,KADuB;;AAAA,SAI/BC,WAJ+B,GAIjB,MAAOC,CAAP,IAAa;AACvB,UAAIC,KAAK,GAAGC,MAAM,CAACC,QAAP,CAAgBC,SAAhB,CAA0B;AAClCC,QAAAA,cAAc,EAAC,gOADmB;AAElCC,QAAAA,GAAG,EAAE;AACDC,UAAAA,IAAI,EAAE;AADL,SAF6B;AAKlCC,QAAAA,iBAAiB,EAAE;AALe,OAA1B,CAAZ;AAQAP,MAAAA,KAAK,CAACQ,SAAN,GAAkBC,IAAlB,CAAuBC,cAAc,IAAE;AACnCC,QAAAA,OAAO,CAACC,GAAR,CAAYF,cAAZ;AACA,YAAIG,KAAK,GAAGH,cAAZ;AACAI,QAAAA,KAAK,CAAC,6BAAD,EAA+B;AAChCC,UAAAA,MAAM,EAAE,MADwB;AAEhCC,UAAAA,OAAO,EAAE;AACL,4BAAgB;AADX,WAFuB;AAKhCC,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBN,YAAAA,KAAK,EAAEH;AADU,WAAf;AAL0B,SAA/B,CAAL;AAQA,aAAKU,QAAL,CAAc;AACVvB,UAAAA,UAAU,EAAEgB;AADF,SAAd;AAGC,OAdL;AAkBH,KA/B8B;AAAA;;AAiC/BQ,EAAAA,MAAM,GAAE;AACJ,wBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACG;AAAQ,MAAA,OAAO,EAAE,KAAKvB,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADH,CADA;AAOH;;AAzC8B;;AA4CnC,MAAMD,UAAU,GAAG;AAAEyB,EAAAA,IAAI,EAAE,gBAAR;AAA0BzB,EAAAA,UAAU,EAAE,KAAKD,KAAL,CAAWC;AAAjD,CAAnB;AAEAH,KAAK,CAAC6B,QAAN,CAAe1B,UAAf;AAEAH,KAAK,CAAC8B,SAAN,CAAgB,MAAIb,OAAO,CAACC,GAAR,CAAY,MAAZ,CAApB;AAEA,eAAenB,OAAO,GAAGE,UAAH,CAAtB","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport store from '../index.js'\n\nclass AppleLogin extends Component {\n    state = {\n        appleToken:''\n    }\n    handleClick = async (e) => {\n        let music = window.MusicKit.configure({\n            developerToken:'eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjlSR0o1OUxIQVQifQ.eyJpYXQiOjE1OTcxODg5NTksImV4cCI6MTYxMjc0MDk1OSwiaXNzIjoiQkJEMzU1UDY3MyJ9.US0Y9NvwZqjy5IS0Ugcqzl0RJc9u8i4yEsrVjBt5f8bteLd0hLGLkuR4zpl-9AsUweif13kM3Ai58hicZiXhgA',\n            app: {\n                name: 'My Cool Web App'\n            },\n            declarativeMarkup: true\n            });\n\n        music.authorize().then(musicUserToken=>{\n            console.log(musicUserToken);\n            let token = musicUserToken;\n            fetch('http://localhost:8888/apple',{\n                method: 'POST',\n                headers: {\n                    'Content-type': 'application/json'\n                },\n                body: JSON.stringify({\n                    token: musicUserToken})\n            });\n            this.setState({\n                appleToken: token\n            })\n            })\n          \n        \n\n    }\n   \n    render(){\n        return(\n        <div>\n           <button onClick={this.handleClick}> Login to Apple</button>\n\n        </div>\n\n        )\n    }\n}\n\nconst appleToken = { type: 'ADD_APPLETOKEN', appleToken: this.state.appleToken}\n\nstore.dispatch(appleToken);\n\nstore.subscribe(()=>console.log('done'));\n\nexport default connect()(AppleLogin);"]},"metadata":{},"sourceType":"module"}